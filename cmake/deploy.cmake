install(TARGETS ${PROJECT_NAME} DESTINATION .)

set(CPACK_PACKAGE_NAME ${PROJECT_NAME})
set(CPACK_PACKAGE_VERSION ${${PROJECT_NAME}_VERSION})
set(CPACK_PACKAGE_CONTACT "Man_k28 <https://github.com/man-k28/CryptoShloma>")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "${CPACK_PACKAGE_NAME} package")

if(UNIX)
    set(CPACK_GENERATOR "DEB")
    set(CPACK_DEBIAN_PACKAGE_ARCHITECTURE "amd64")
    set(CPACK_DEBIAN_PACKAGE_PRIORITY "optional")
    set(CPACK_DEBIAN_PACKAGE_SECTION "misc")
    set(CPACK_DEBIAN_PACKAGE_DEPENDS "libxkbcommon-x11-0")
    set(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_DEBIAN_PACKAGE_ARCHITECTURE}")
    set(CPACK_PACKAGING_INSTALL_PREFIX "/opt/${CPACK_PACKAGE_NAME}")
    install(FILES "${CMAKE_CURRENT_SOURCE_DIR}/share/deploy/linux/run.sh"
            DESTINATION .
            PERMISSIONS WORLD_EXECUTE)
endif()

include(CPack)

#SET(CPACK_CMAKE_GENERATOR "Unix Makefiles")
#SET(CPACK_INSTALL_CMAKE_PROJECTS "/home/andy/vtk/CMake-bin;CMake;ALL;/")
#SET(CPACK_OUTPUT_CONFIG_FILE "/home/andy/vtk/CMake-bin/CPackConfig.cmake")
#SET(CPACK_PACKAGE_DESCRIPTION_FILE "/home/andy/vtk/CMake/Copyright.txt")
#SET(CPACK_PACKAGE_EXECUTABLES "ccmake;CMake")
#SET(CPACK_PACKAGE_INSTALL_DIRECTORY "CMake 2.5")
#SET(CPACK_PACKAGE_INSTALL_REGISTRY_KEY "CMake 2.5.0")
#SET(CPACK_PACKAGE_VENDOR "Kitware")
#SET(CPACK_PACKAGE_VERSION_MAJOR "2")
#SET(CPACK_PACKAGE_VERSION_MINOR "5")
#SET(CPACK_PACKAGE_VERSION_PATCH "0")
#SET(CPACK_RESOURCE_FILE_LICENSE "/home/andy/vtk/CMake/Copyright.txt")
#SET(CPACK_RESOURCE_FILE_README "/home/andy/vtk/CMake/Templates/CPack.GenericDescription.txt")
#SET(CPACK_RESOURCE_FILE_WELCOME "/home/andy/vtk/CMake/Templates/CPack.GenericWelcome.txt")
#SET(CPACK_SOURCE_GENERATOR "TGZ;TZ")
#SET(CPACK_SOURCE_OUTPUT_CONFIG_FILE "/home/andy/vtk/CMake-bin/CPackSourceConfig.cmake")
#SET(CPACK_SOURCE_PACKAGE_FILE_NAME "cmake-2.5.0")
#SET(CPACK_SOURCE_STRIP_FILES "")
#SET(CPACK_STRIP_FILES "bin/ccmake;bin/cmake;bin/cpack;bin/ctest")
#SET(CPACK_SYSTEM_NAME "Linux-i686")
#SET(CPACK_TOPLEVEL_TAG "Linux-i686")

#set(CPACK_SYSTEM_NAME "${OS_RELEASE_NAME}-${OS_RELEASE_VERSION}")
#install(FILES "${CMAKE_CURRENT_LIST_DIR}/skif_gui.desktop" DESTINATION /usr/share/applications)
#install(FILES "${CMAKE_CURRENT_LIST_DIR}/skif_logo.png" DESTINATION /usr/share/icons)

#list(APPEND CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_CURRENT_LIST_DIR}/deb/DEBIAN/preinst")
#list(APPEND CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_CURRENT_LIST_DIR}/deb/DEBIAN/postinst")
#list(APPEND CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_CURRENT_LIST_DIR}/deb/DEBIAN/prerm")
#list(APPEND CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_CURRENT_LIST_DIR}/deb/DEBIAN/postrm")
